<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>OrÃ¡culo de la Bobe</title>
  <style>
    body { font-family: Georgia, serif; text-align:center; margin:40px; background:#fdf6e3; color:#333; }
    h1 { color:#b23a48; }
    .imgwrap { display:flex; gap:24px; justify-content:center; align-items:flex-start; flex-wrap:wrap; }
    img { max-width:320px; height:auto; border:0; }
    button { margin-top:20px; font-size:1.1rem; padding:10px 16px; border-radius:10px; border:none; background:#b23a48; color:#fff; cursor:pointer; }
    button:hover { background:#922d3a; }
  </style>
</head>
<body>
  <h1>ðŸ”® La Bobe del I Ching</h1>
  <p id="resultado">Cargandoâ€¦</p>

  <div class="imgwrap">
    <figure>
      <img id="hexagrama-local" alt="Hexagrama local" />
      <figcaption>Imagen local (repo)</figcaption>
    </figure>

    <figure>
      <img id="hexagrama-wiki" alt="Hexagrama Wikipedia" />
      <figcaption>Wikipedia (Commons)</figcaption>
    </figure>
  </div>

  <button id="otra">Otra consulta</button>

  <script>
    function urlWikipedia(numero) {
      // Formatear con 2 dÃ­gitos: 01..64
      const xx = String(numero).padStart(2, '0');
      // Special:FilePath resuelve automÃ¡ticamente la ruta real del archivo
      // ?width=300 devuelve rasterizado a ~300px (evita problemas de CORS con SVG inline)
      return `https://commons.wikimedia.org/wiki/Special:FilePath/Iching-hexagram-${xx}.svg?width=300`;
    }

    function urlLocal(numero) {
      // Tu archivo local en el raÃ­z: hexagramaN.png (ajustÃ¡ si usÃ¡s otra convenciÃ³n)
      return `hexagrama${numero}.png`;
    }

    function sortearHexagrama() {
      const n = Math.floor(Math.random() * 64) + 1;
      document.getElementById('resultado').textContent = `Tu hexagrama es el nÃºmero ${n}`;

      const imgLocal = document.getElementById('hexagrama-local');
      const imgWiki  = document.getElementById('hexagrama-wiki');

      imgLocal.src = urlLocal(n);
      imgLocal.alt = `Hexagrama local ${n}`;

      imgWiki.src = urlWikipedia(n);
      imgWiki.alt = `Hexagrama Wikipedia ${n}`;
    }

    // Ejecutar al cargar
    window.addEventListener('DOMContentLoaded', () => {
      sortearHexagrama();
      document.getElementById('otra').addEventListener('click', sortearHexagrama);
    });
  </script>
</body>
</html>
